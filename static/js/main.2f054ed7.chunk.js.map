{"version":3,"sources":["actions.js","reducer.js","context.js","SearchForm.js","Stories.js","Buttons.js","App.js","index.js"],"names":["SET_LOADING","SET_STORIES","REMOVE_STORY","HANDLE_PAGE","HANDLE_SEARCH","reducer","state","action","type","isLoading","hits","payload","nbPages","filter","story","objectID","query","page","nextPage","prevPage","Error","initialState","AppContext","React","createContext","AppProvider","children","useReducer","dispatch","fetchStories","url","a","fetch","response","json","data","console","log","useEffect","Provider","value","removeStory","id","handleSearch","handlePage","useGlobalContext","useContext","SearchForm","className","onSubmit","e","preventDefault","onChange","target","Stories","map","title","num_comments","points","author","href","rel","onClick","Buttons","disabled","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f054ed7.chunk.js","sourcesContent":["export const SET_LOADING = 'SET_LOADING'\r\nexport const SET_STORIES = 'SET_STORIES'\r\nexport const REMOVE_STORY = 'REMOVE_STORY'\r\nexport const HANDLE_PAGE = 'HANDLE_PAGE'\r\nexport const HANDLE_SEARCH = 'HANDLE_SEARCH'","import {\r\n    SET_LOADING,\r\n    SET_STORIES,\r\n    REMOVE_STORY,\r\n    HANDLE_PAGE,\r\n    HANDLE_SEARCH,\r\n  } from './actions'\r\n  \r\n  const reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case SET_LOADING:\r\n        return { ...state, isLoading: true }\r\n      case SET_STORIES:\r\n        return {\r\n          ...state,\r\n          isLoading: false,\r\n          hits: action.payload.hits,\r\n          nbPages: action.payload.nbPages,\r\n        }\r\n      case REMOVE_STORY:\r\n        return {\r\n          ...state,\r\n          hits: state.hits.filter((story) => story.objectID !== action.payload),\r\n        }\r\n      case HANDLE_SEARCH:\r\n        return { ...state, query: action.payload, page: 0 }\r\n      case HANDLE_PAGE:\r\n        if (action.payload === 'inc') {\r\n          let nextPage = state.page + 1\r\n          if (nextPage > state.nbPages - 1) {\r\n            nextPage = 0\r\n          }\r\n          return { ...state, page: nextPage }\r\n        }\r\n        if (action.payload === 'dec') {\r\n          let prevPage = state.page - 1\r\n          if (prevPage < 0) {\r\n            prevPage = state.nbPages - 1\r\n          }\r\n          return { ...state, page: prevPage }\r\n        }\r\n      default:\r\n        throw new Error(`no mathching \"${action.type}\" action type`)\r\n    }\r\n  }\r\n  export default reducer","import React, { useContext, useEffect, useReducer } from 'react'\r\n\r\nimport {\r\n  SET_LOADING,\r\n  SET_STORIES,\r\n  REMOVE_STORY,\r\n  HANDLE_PAGE,\r\n  HANDLE_SEARCH,\r\n} from './actions'\r\nimport reducer from './reducer'\r\n\r\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?'\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  hits: [],\r\n  query: 'react',\r\n  page: 0,\r\n  nbPages: 0,\r\n}\r\n\r\nconst AppContext = React.createContext()\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const fetchStories = async (url) => {\r\n    dispatch({ type: SET_LOADING })\r\n    try {\r\n      const response = await fetch(url)\r\n      const data = await response.json()\r\n      dispatch({\r\n        type: SET_STORIES,\r\n        payload: { hits: data.hits, nbPages: data.nbPages },\r\n      })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const removeStory = (id) => {\r\n    dispatch({ type: REMOVE_STORY, payload: id })\r\n  }\r\n  const handleSearch = (query) => {\r\n    dispatch({ type: HANDLE_SEARCH, payload: query })\r\n  }\r\n  const handlePage = (value) => {\r\n    dispatch({ type: HANDLE_PAGE, payload: value })\r\n  }\r\n  useEffect(() => {\r\n    fetchStories(`${API_ENDPOINT}query=${state.query}&page=${state.page}`)\r\n  }, [state.query, state.page])\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{ ...state, removeStory, handleSearch, handlePage }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst SearchForm = () => {\r\n  const { query, handleSearch } = useGlobalContext()\r\n\r\n  return (\r\n    <form className='search-form' onSubmit={(e) => e.preventDefault()}>\r\n      <h2>search hacker news</h2>\r\n      <input\r\n        type='text'\r\n        className='form-input'\r\n        value={query}\r\n        onChange={(e) => handleSearch(e.target.value)}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchForm","import React from 'react'\r\n\r\nimport { useGlobalContext } from './context'\r\n\r\nconst Stories = () => {\r\n  const { isLoading, hits, removeStory } = useGlobalContext()\r\n\r\n  if (isLoading) {\r\n    return <div className='loading'></div>\r\n  }\r\n  return (\r\n    <section className='stories'>\r\n      {hits.map((story) => {\r\n        const { objectID, title, num_comments, url, points, author } = story\r\n        return (\r\n          <article key={objectID} className='story'>\r\n            <h4 className='title'>{title}</h4>\r\n            <p className='info'>\r\n              {points} points by <span>{author} | </span> {num_comments}{' '}\r\n              comments\r\n            </p>\r\n            <div>\r\n              <a\r\n                href={url}\r\n                className='read-link'\r\n                target='_blank'\r\n                rel='noopener noreferrer'\r\n              >\r\n                read more\r\n              </a>\r\n              <button\r\n                className='remove-btn'\r\n                onClick={() => removeStory(objectID)}\r\n              >\r\n                remove\r\n              </button>\r\n            </div>\r\n          </article>\r\n        )\r\n      })}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Stories","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst Buttons = () => {\r\n  const { isLoading, page, nbPages, handlePage } = useGlobalContext()\r\n\r\n  return (\r\n    <div className='btn-container'>\r\n      <button disabled={isLoading} onClick={() => handlePage('dec')}>\r\n        prev\r\n      </button>\r\n      <p>\r\n        {page + 1} of {nbPages}\r\n      </p>\r\n      <button disabled={isLoading} onClick={() => handlePage('inc')}>\r\n        next\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Buttons","import React from 'react'\r\nimport SearchForm from './SearchForm'\r\nimport Stories from './Stories'\r\nimport Buttons from './Buttons'\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <SearchForm />\r\n      <Buttons />\r\n      <Stories />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { AppProvider } from './context'\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}